<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Climbing Competition Score Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
    }
    h1 {
      color: #333;
    }
    .form-section {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 500px;
      margin-bottom: 30px;
    }
    .form-section label {
      font-size: 14px;
      color: #333;
      margin-bottom: 6px;
      display: block;
    }
    .form-section select, .form-section input {
      width: 100%;
      padding: 8px;
      font-size: 14px;
      margin-bottom: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    .form-section button {
      padding: 12px;
      font-size: 16px;
      background-color: #5c6bc0;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .form-section button:hover {
      background-color: #3f51b5;
    }
    .hidden {
      display: none;
    }
    #results {
      margin-top: 20px;
    }
    #results ul {
      list-style-type: none;
      padding: 0;
    }
    #results li {
      margin-bottom: 8px;
    }
  </style>
</head>
<body>

  <h1>Climbing Competition Score Calculator</h1>

  <!-- Bouldering Form -->
  <div id="bouldering-form" class="form-section">
    <h2>Bouldering Competition</h2>
    <form id="bouldering-inputs">
      <!-- Route Selection Inputs for Bouldering -->
      <div class="route-selection">
        <label for="boulder-route-1">Select Route 1:</label>
        <select id="boulder-route-1" class="boulder-route"></select>
        <label for="boulder-flash-1">Flash:</label>
        <input type="checkbox" id="boulder-flash-1" class="boulder-flash">
      </div>
      <div class="route-selection">
        <label for="boulder-route-2">Select Route 2:</label>
        <select id="boulder-route-2" class="boulder-route"></select>
        <label for="boulder-flash-2">Flash:</label>
        <input type="checkbox" id="boulder-flash-2" class="boulder-flash">
      </div>
      <div class="route-selection">
        <label for="boulder-route-3">Select Route 3:</label>
        <select id="boulder-route-3" class="boulder-route"></select>
        <label for="boulder-flash-3">Flash:</label>
        <input type="checkbox" id="boulder-flash-3" class="boulder-flash">
      </div>
      <div class="route-selection">
        <label for="boulder-route-4">Select Route 4:</label>
        <select id="boulder-route-4" class="boulder-route"></select>
        <label for="boulder-flash-4">Flash:</label>
        <input type="checkbox" id="boulder-flash-4" class="boulder-flash">
      </div>
      <div class="route-selection">
        <label for="boulder-route-5">Select Route 5:</label>
        <select id="boulder-route-5" class="boulder-route"></select>
        <label for="boulder-flash-5">Flash:</label>
        <input type="checkbox" id="boulder-flash-5" class="boulder-flash">
      </div>
      <button type="button" id="calculate-bouldering">Calculate Bouldering Score</button>
    </form>
  </div>

  <!-- Mixed Comp Form -->
  <div id="mixed-form" class="form-section">
    <h2>Mixed Competition</h2>
    <form id="mixed-inputs">
      <!-- Rope Route Selection -->
      <div class="route-selection">
        <label for="rope-route-1">Select Rope Route 1:</label>
        <select id="rope-route-1" class="rope-route"></select>
        <label for="rope-flash-1">Flash:</label>
        <input type="checkbox" id="rope-flash-1" class="rope-flash">
        <label for="rope-lead-1">Lead:</label>
        <input type="checkbox" id="rope-lead-1" class="rope-lead">
      </div>
      <div class="route-selection">
        <label for="rope-route-2">Select Rope Route 2:</label>
        <select id="rope-route-2" class="rope-route"></select>
        <label for="rope-flash-2">Flash:</label>
        <input type="checkbox" id="rope-flash-2" class="rope-flash">
        <label for="rope-lead-2">Lead:</label>
        <input type="checkbox" id="rope-lead-2" class="rope-lead">
      </div>
      <!-- Boulder Route Selection -->
      <div class="route-selection">
        <label for="boulder-route-1-mixed">Select Boulder Route 1:</label>
        <select id="boulder-route-1-mixed" class="boulder-route"></select>
        <label for="boulder-flash-1-mixed">Flash:</label>
        <input type="checkbox" id="boulder-flash-1-mixed" class="boulder-flash">
      </div>
      <div class="route-selection">
        <label for="boulder-route-2-mixed">Select Boulder Route 2:</label>
        <select id="boulder-route-2-mixed" class="boulder-route"></select>
        <label for="boulder-flash-2-mixed">Flash:</label>
        <input type="checkbox" id="boulder-flash-2-mixed" class="boulder-flash">
      </div>
      <!-- Choice Route Selection -->
      <div class="route-selection">
        <label for="choice-route">Select Choice Route:</label>
        <select id="choice-route" class="choice-route"></select>
        <label for="choice-flash">Flash:</label>
        <input type="checkbox" id="choice-flash" class="choice-flash">
        <label for="choice-lead">Lead:</label>
        <input type="checkbox" id="choice-lead" class="choice-lead">
      </div>
      <button type="button" id="calculate-mixed">Calculate Mixed Score</button>
    </form>
  </div>

  <!-- Results Section -->
  <div id="results" class="hidden">
    <h2>Results</h2>
    <p>Total Score: <span id="total-score">0</span></p>
    <p>Total Percentage: <span id="total-percent">0%</span></p>
    <h3>Routes:</h3>
    <ul id="route-details"></ul>
  </div>

  <script>
    // DOM Elements
    const calculateBoulderingButton = document.getElementById('calculate-bouldering');
    const calculateMixedButton = document.getElementById('calculate-mixed');
    const resultsSection = document.getElementById('results');
    const totalScoreElement = document.getElementById('total-score');
    const totalPercentElement = document.getElementById('total-percent');
    const routeDetailsElement = document.getElementById('route-details');

    // Generate route options for 1â€“30
    function generateRouteOptions() {
      let options = '';
      for (let i = 1; i <= 30; i++) {
        options += `<option value="${i}">Route ${i}</option>`;
      }
      return options;
    }

    // Generate the form fields for selecting routes
    function generateBoulderingInputs() {
      const routeElements = document.querySelectorAll('.boulder-route');
      routeElements.forEach((routeElement) => {
        routeElement.innerHTML = generateRouteOptions();
      });
    }

    // Generate form fields for Mixed Competition (Rope & Boulder)
    function generateMixedInputs() {
      const ropeElements = document.querySelectorAll('.rope-route');
      const choiceRouteElement = document.getElementById('choice-route');
      ropeElements.forEach((ropeElement) => {
        ropeElement.innerHTML = generateRouteOptions();
      });
      choiceRouteElement.innerHTML = generateRouteOptions();
    }

    // Calculate the Bouldering score
    function calculateBouldering() {
      let totalScore = 0;
      let scoreList = [];
      const maxScore = 14240; // Maximum possible score for percentage calculation

      // Iterate over 5 routes for bouldering
      for (let i = 1; i <= 5; i++) {
        const routeNumber = parseInt(document.getElementById(`boulder-route-${i}`).value, 10);
        const flash = document.getElementById(`boulder-flash-${i}`).checked;
        const score = (routeNumber * 100) + (flash ? 20 : 0) + routeNumber;
        totalScore += score;

        // Add to score list
        scoreList.push(`Route ${routeNumber}: ${flash ? 'Flash' : 'No Flash'} - Score: ${score}`);
      }

      displayResults(totalScore, scoreList, maxScore);
    }

    // Calculate the Mixed Competition score
    function calculateMixed() {
      let totalScore = 0;
      let scoreList = [];
      const maxScore = 28560; // Max possible score for mixed comp

      // Rope routes calculation
      for (let i = 1; i <= 2; i++) {
        const routeNumber = parseInt(document.getElementById(`rope-route-${i}`).value, 10);
        const flash = document.getElementById(`rope-flash-${i}`).checked;
        const lead = document.getElementById(`rope-lead-${i}`).checked;
        let score = routeNumber * 200;
        if (flash) score += 40;
        if (lead) score += 100;
        totalScore += score;
        scoreList.push(`Rope Route ${routeNumber}: ${flash ? 'Flash' : 'No Flash'}, ${lead ? 'Lead' : 'No Lead'} - Score: ${score}`);
      }

      // Boulder routes calculation
      for (let i = 1; i <= 2; i++) {
        const routeNumber = parseInt(document.getElementById(`boulder-route-${i}-mixed`).value, 10);
        const flash = document.getElementById(`boulder-flash-${i}-mixed`).checked;
        const score = routeNumber * 100 + (flash ? 20 : 0);
        totalScore += score;
        scoreList.push(`Boulder Route ${routeNumber}: ${flash ? 'Flash' : 'No Flash'} - Score: ${score}`);
      }

      // Choice route calculation
      const choiceRoute = parseInt(document.getElementById('choice-route').value, 10);
      const choiceFlash = document.getElementById('choice-flash').checked;
      const choiceLead = document.getElementById('choice-lead').checked;
      let choiceScore = choiceRoute * 150;
      if (choiceFlash) choiceScore += 30;
      if (choiceLead) choiceScore += 75;
      totalScore += choiceScore;
      scoreList.push(`Choice Route ${choiceRoute}: ${choiceFlash ? 'Flash' : 'No Flash'}, ${choiceLead ? 'Lead' : 'No Lead'} - Score: ${choiceScore}`);

      displayResults(totalScore, scoreList, maxScore);
    }

    // Display the results
    function displayResults(totalScore, scoreList, maxScore) {
      const percent = Math.round((totalScore / maxScore) * 10000) / 100;

      totalScoreElement.textContent = totalScore;
      totalPercentElement.textContent = `${percent}%`;
      routeDetailsElement.innerHTML = scoreList.map(route => `<li>${route}</li>`).join('');

      resultsSection.classList.remove('hidden');
    }

    // Initialize the forms
    generateBoulderingInputs();
    generateMixedInputs();

    // Event Listeners for Calculate Buttons
    calculateBoulderingButton.addEventListener('click', calculateBouldering);
    calculateMixedButton.addEventListener('click', calculateMixed);
  </script>
</body>
</html>
